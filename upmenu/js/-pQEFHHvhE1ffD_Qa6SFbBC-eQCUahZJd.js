;/*FB_PKG_DELIM*/

__d("EBDB",["$InternalEnum","Promise","QPLFlow","WALogger","WAResolvable","Worm","WormEAR","WormIDbDriver","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum")({UI:0,Worker:1}),c={auto_restore_opt_out:{indexes:{},primaryKey:"optOutKey"},device_metadata:{indexes:{},primaryKey:"pk"},device_state:{indexes:{},primaryKey:"env"},encrypted_backups:{indexes:{},primaryKey:"pk"},encrypted_backups_virtual_devices:{indexes:{},primaryKey:"pk"},experiences_shared_state:{indexes:{},primaryKey:"stateKey"},secure_encrypted_backups_client_state:{indexes:{},primaryKey:"backupId"},secure_encrypted_backups_epochs:{indexes:{},primaryKey:"epochId"},secure_encrypted_backups_recovery_code_status:{indexes:{},primaryKey:"pk"}},d=1e4,m=new(o("WAResolvable")).Resolvable;function p(e,t,n,r,o){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i){var l=o("QPLFlow").startQPLFlow(n,{annotations:{int:{env:a},string:{operationType:"initEBDB"}},timeoutInMs:d});try{var s="ebdb",u=new(o("WormEAR")).WormEAR(c,s,r),p=new(o("Worm")).WormDatabase(new(o("WormIDbDriver")).WormIDbDriver(t,s,c,u,i,{onTransactionError:function(t){if(t instanceof o("WormEAR").DecryptionError){var e=t;if(e.store==="device_state"){g();return}else y()}},safeToDeleteStores:new Set(["migration"])}),n);yield p.init({eventFlow:l}),l.endSuccess(),m.resolve(p)}catch(t){throw l.endFail("error"),o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Error performing makeEBDB: ",""])),t),m.reject(t),t}}),_.apply(this,arguments)}function f(){return m.promise}function g(){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield f();return e.runInTransaction(["device_state"],"readwrite",function(e){return e.stores.device_state.clear()},"EBDB - clearDeviceState")}),h.apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield f();yield e.runInTransaction(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],"readwrite",function(e){return(s||(s=n("Promise"))).all([e.stores.encrypted_backups_virtual_devices.clear(),e.stores.secure_encrypted_backups_recovery_code_status.clear(),e.stores.device_metadata.clear(),e.stores.secure_encrypted_backups_epochs.clear(),e.stores.secure_encrypted_backups_client_state.clear(),e.stores.encrypted_backups.clear(),e.stores.experiences_shared_state.clear(),e.stores.auto_restore_opt_out.clear()])},"EBDB - clearEbStores")}),C.apply(this,arguments)}function b(){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield f();yield e.runInTransaction(["device_state","encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],"readwrite",function(e){return(s||(s=n("Promise"))).all([e.stores.device_state.clear(),e.stores.encrypted_backups_virtual_devices.clear(),e.stores.secure_encrypted_backups_recovery_code_status.clear(),e.stores.device_metadata.clear(),e.stores.secure_encrypted_backups_epochs.clear(),e.stores.secure_encrypted_backups_client_state.clear(),e.stores.encrypted_backups.clear(),e.stores.experiences_shared_state.clear(),e.stores.auto_restore_opt_out.clear()])},"EBDB - clearAll")}),v.apply(this,arguments)}l.EBDBEnvironment=u,l.schema=c,l.makeEBDB=p,l.getEBDB=f,l.clearDeviceState=g,l.clearEbStores=y,l.clearAll=b}),98);
__d("EBDBEbsmApi",["$InternalEnum","EBDB","FBLogger","I64","Promise","QPLUserFlow","ReStorePersistence","asyncToGeneratorRuntime","getErrorSafe","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","auto_restore_opt_out"],c=n("$InternalEnum").Mirrored(["Success","EmptyDb"]);function d(e){var t={};for(var n of Object.keys(e)){var r=e[n];typeof r=="bigint"?t[n]=(s||(s=o("I64"))).of_string(String(r)):t[n]=r}return t}function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=yield o("EBDB").getEBDB(),a=Array.from(t.keys());yield r.runInTransaction(a,"readwrite",(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(r){var a=[],i=function*(){var e=u[0];l=u[1];var t=l.toAdd,n=l.toDelete,i=o("EBDB").schema==null?void 0:o("EBDB").schema[e];a.push(r.stores[e].bulkDelete(n.map(function(e){var t=typeof e=="object"?e==null?void 0:e[i.primaryKey]:null;if(t!=null)return(s||(s=o("I64"))).isI64(t)?BigInt((s||(s=o("I64"))).to_string(t)):t}).filter(function(e){return!!e})),r.stores[e].bulkPut(t.filter(function(e){return typeof e=="object"&&(e==null?void 0:e[i.primaryKey])!=null}).map(function(e){var t={};for(var n of Object.keys(e)){var r=e[n];(s||(s=o("I64"))).isI64(r)?t[n]=BigInt((s||(s=o("I64"))).to_string(r)):t[n]=r}return t})))},l;for(var u of t)yield*i();yield(e||(e=n("Promise"))).all(a)});return function(e){return r.apply(this,arguments)}})(),"EBDB - flush EBSM state",i.id+":79")}),p.apply(this,arguments)}function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){for(var t=yield e.next();t.done===!1;)t=yield e.next();return t.value}),f.apply(this,arguments)}function g(e,t,n){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=e(t),a=new(o("ReStorePersistence")).ReStoreDbStoreTable(r,t,function(){},{get:function(){},logError:function(){},shouldInline:function(){return!1}},"readwrite",function(){});for(var i of n){var l=d(i),s=l[o("EBDB").schema[t].primaryKey];yield _(a.tableSet(new WeakMap,[s],l))}}),h.apply(this,arguments)}function y(e){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_EBDB");var a=yield o("EBDB").getEBDB(),l=!0,s=new Map;if(yield a.runInTransaction(u,"readonly",function(t){return(e||(e=n("Promise"))).all(u.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=yield t.stores[e].readAll();l=l&&n.length===0,s.set(e,n)});return function(t){return e.apply(this,arguments)}})()))},"EBDB - fetch for rehydration EBSM",i.id+":186"),r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_LOAD_DATA_FROM_EBDB_DONE"),l)return c.EmptyDb;var d;try{yield(e||(e=n("Promise"))).all(Array.from(s).map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=e[0],o=e[1];try{yield g(t,n,o),r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_DONE_ON_"+n.toUpperCase())}catch(e){throw d=n,r("QPLUserFlow").addPoint(r("qpl")._(521481876,"1407"),"EBSM_HYDRATION_FAILED_ON_"+n.toUpperCase()),e}});return function(t){return e.apply(this,arguments)}})()))}catch(e){var m=r("getErrorSafe")(e);r("FBLogger")("wmi_eb").catching(m).mustfix("rehydrateEBSMFromEBDB: Invalid data to build BTree: %s",d),o("EBDB").clearEbStores();for(var p of u){var _=t(p);_.clear()}return c.EmptyDb}return c.Success}),C.apply(this,arguments)}function b(t){return function(r,a){return t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=[];for(var i of r){var l=i[0],s=i[1],u=s.toAdd,c=s.toDelete,d=o("EBDB").schema==null?void 0:o("EBDB").schema[l];for(var m of c){var p=typeof m=="object"?m==null?void 0:m[d.primaryKey]:null;p!=null&&a.push(t[l].delete(p))}for(var _ of u)typeof _=="object"&&(_==null?void 0:_[d.primaryKey])!=null&&a.push(t[l].put(_))}yield(e||(e=n("Promise"))).all(a)});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,{source:a,type:"user_initiated"},i.id+":254")}}l.EB_STORES=u,l.RehydrationResult=c,l.flushEBSMtoEBDB=m,l.rehydrateEBSMFromEBDB=y,l.updateEBSM=b}),98);
__d("EBReadyNotifier",["WAResolvable"],(function(t,n,r,o,a,i,l){"use strict";var e=new(o("WAResolvable")).Resolvable;function s(){e.resolve()}function u(){e.resolveWasCalled()&&(e=new(o("WAResolvable")).Resolvable)}function c(){return e.promise}l.markEBReady=s,l.resetEBReady=u,l.waitForEBReady=c}),98);
__d("LSDatabase",[],(function(t,n,r,o,a,i){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum","LSMailboxInitialSyncCursor"],(function(t,n,r,o,a,i,l){"use strict";var e,s={locale:r("CurrentLocale").get()},u={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(e||(e=o("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:e.ofNumber(0),minTimeToSyncTimestampMs:e.ofNumber(-1),priority:e.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:o("LSMailboxInitialSyncCursor").syncChannel,syncParams:JSON.stringify(s),syncStatus:e.ofNumber(0)},c={epochId:void 0,failureCount:e.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:e.ofNumber(0),lastSyncRequestTimestampMs:e.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:e.ofNumber(0),taskQueueName:""},d=e.ofNumber(9999999999999);l.defaultSyncParams=s,l.defaultSyncGroup=u,l.defaultNetworkRequest=c,l.neverSyncTimestamp=d}),98);
__d("LSVoprfWasmPrewarmDeferred",["WAWasmModuleCache","asyncToGeneratorRuntime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSVoprfWasm").__setRef("LSVoprfWasmPrewarmDeferred");function s(){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield e.load(),n=t.locateFile;yield o("WAWasmModuleCache").loadWasmModule(n())}),u.apply(this,arguments)}l.prewarmAcsVoprfWasmModule=s}),98);
__d("MNetRankType",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNDEFINED_RANKING_TYPE:-1,INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52,MESSENGER_BCF_FREQUENTS:53,FB_ORIGINAL_PRIVATE_SHARING:54,MESSENGER_SEARCH_NULLSTATE_FOLLOWER:55,MESSENGER_SEARCH_NULL_STATE_UNBLENDED:56,MESSENGER_SEARCH_QUERY_STATE_BLENDED:57,MESSENGER_INBOX_TRAY_SUPER_MODEL:58,MESSENGER_INBOX_TRAY_SMART_BLENDING:59,MESSENGER_PRESENCE_POLLING_PERSONALIZATION:60});i.default=e}),66);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=o("CurrentMessengerUser").getPageMessagingMailboxId(),r=n==="0"?o("CurrentMessengerUser").getIDorEIMU():n;yield t._user_info.put({facebookUserId:(e||(e=o("I64"))).of_string(r),id:(s||(s=o("LSIntEnum"))).ofNumber(1)})}),c.apply(this,arguments)}l.default=u}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","LSVoprfWasmPrewarmDeferred","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","seedUserInfo"],(function(t,n,r,o,a,i,l){"use strict";var e=["groupId"],s,u,c,d=new Set;o("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()&&d.add(95);var m=o("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroup(),p=[{groupId:1,lastSyncRequestTimestampMs:o("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:o("LSMailboxInitialSyncCursor").syncChannel,syncParams:o("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:o("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:o("LSMailboxInitialSyncCursor").syncChannel},{groupId:16,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},r("gkx")("4246")?null:{groupId:28,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel,syncParams:JSON.stringify(babelHelpers.extends({},o("LSSyncGroupsUtils").defaultSyncParams,{size_type:"wide"}))},{groupId:118,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:198},{groupId:89},{groupId:197}],_=[].concat(p,[{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[r("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},o("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroupForIGDSyncGroup()]),f=[].concat(p,[{groupId:7,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[r("MNetRankType").MESSENGER_USER_SEARCH,r("gkx")("17703")?r("MNetRankType").MESSENGER_SEARCH_NULL_STATE_UNBLENDED:r("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,r("MNetRankType").INBOX_ACTIVE_NOW,r("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,r("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,r("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:12,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:26},{groupId:196},m,r("gkx")("24113")?{groupId:120,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel}:null,r("gkx")("26390")?{groupId:6,minTimeToSyncTimestampMs:o("LSSyncGroupsUtils").neverSyncTimestamp}:null,{groupId:145,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},r("gkx")("5985")?{groupId:202}:null]).concat(r("gkx")("22843")?[{groupId:104,syncChannel:o("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:143},{groupId:140},{groupId:141}]:[]);function g(e,t){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var r=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.network_requests).getKeyRange("")),a=r.map(function(e){var t=e.syncDatabaseId;return(c||(c=o("LSIntEnum"))).toNumber(t)});return(s||(s=n("Promise"))).all(t.map((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){t!=null&&(!a.includes(t.groupId)||d.has(t.groupId))&&(yield e.network_requests.put(babelHelpers.extends({},o("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(c||(c=o("LSIntEnum"))).ofNumber(t.groupId)})))});return function(e){return t.apply(this,arguments)}})()))}),h.apply(this,arguments)}function y(e){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.sync_groups));return new Map(t.map(function(e){return[(c||(c=o("LSIntEnum"))).toNumber(e.groupId),e]}))}),C.apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){var a=yield y(t);function i(e){return l.apply(this,arguments)}function l(){return l=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r=n.groupId,i=babelHelpers.objectWithoutPropertiesLoose(n,e),l=a.get(r);l==null||d.has(r)?yield t.sync_groups.put(babelHelpers.extends({},o("LSSyncGroupsUtils").defaultSyncGroup,i,{groupId:(c||(c=o("LSIntEnum"))).ofNumber(r)})):l!=null&&(l.syncParams!==i.syncParams||i.syncChannel!=null&&!(u||(u=o("I64"))).equal(l.syncChannel,i.syncChannel))&&(yield t.sync_groups.put(babelHelpers.extends({},l,{syncChannel:i.syncChannel!=null?i.syncChannel:l.syncChannel,syncParams:i.syncParams})))}),l.apply(this,arguments)}yield(s||(s=n("Promise"))).all(r.map(function(e){return e&&i(e)}))}),v.apply(this,arguments)}function S(e){return e!=null?e:r("CurrentEnvironment").instagramdotcom?_:f}function R(e,t){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=S(t);o("LSPlatformLsInitLog").addPoint("db_seed_start"),yield r("seedUserInfo")(e),yield g(e,n),yield b(e,n),r("promiseDone")(o("LSVoprfWasmPrewarmDeferred").prewarmAcsVoprfWasmModule()),o("LSPlatformLsInitLog").addPoint("db_seed_end")}),L.apply(this,arguments)}l.e2eeMetadataSyncGroup=m,l.igdSyncGroups=_,l.defaultSyncGroups=f,l.seedDb=R}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("ReQL").fromTableAscending(t.cutover_threads);return o("ReQL").toArrayAsync(r).then(function(r){return r.reduce(function(e,n){return e.then(function(){return t.cutover_threads.delete(n.openThreadId)})},(e||(e=n("Promise"))).resolve())})}l.call=s}),98);
__d("ReStoreDecryptionFailure",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreDecryptionFailure",l=(function(t){function n(n,r){var o,a=n+" - Encrypted Restore was unable to decrypt an entity for table "+r;return o=t.call(this,a)||this,o.message=a,o.name=e,o.tableName=r,o}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.getTableName=function(){return this.tableName},n})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreDecryptionFailure=l}),66);
__d("ReStoreEARSetupFailure",[],(function(t,n,r,o,a,i){"use strict";var e="Encryption keychain could not be setup",l="ReStoreEARSetupFailure",s=(function(t){function n(n){var r,o=e+": "+n;return r=t.call(this,o)||this,r.message=o,r.name=l,r}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));i.ERROR_MESSAGE=e,i.ERROR_NAME=l,i.ReStoreEARSetupFailure=s}),66);
__d("ReStoreEvent",[],(function(t,n,r,o,a,i){"use strict";var e=function(){};i.default=e}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this)||this,r.idb=t,r.error=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getError=function(){return this.error},t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreIndexedDbFailToOpenEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreIndexedDbUpgradedEvent",["ReStoreEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("ReStoreEvent"));l.default=e}),98);
__d("ReStoreUnexpectedlyClosed",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreUnexpectedlyClosed",l=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreUnexpectedlyClosed=l}),66);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformErrorChannel","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","Promise","ReStoreDecryptionFailure","ReStoreEARSetupFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbUpgradedEvent","ReStoreUnexpectedlyClosed","UserTimingUtils","asyncToGeneratorRuntime","cr:10099","cr:10200","cr:10755","cr:4489","cr:6218","cr:665","cr:7000","cr:7351","cr:8915","justknobx","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(e=n("cr:6218"))!=null?e:n("cr:10755"),m=(s=n("cr:7000"))!=null?s:n("cr:7351");function p(e){if(e instanceof r("ReStoreIndexedDbUpgradedEvent")&&d!=null&&r("justknobx")._("1410"))r("promiseDone")(d.killSharedWorker(!0,"ls_upgrade"));else if(e instanceof r("ReStoreIndexedDbClosedEvent")){var t=e.getError();n("cr:8915")!=null&&t instanceof(n("cr:8915")==null?void 0:n("cr:8915").ReStoreDbVersionChange)||t instanceof o("ReStoreDecryptionFailure").ReStoreDecryptionFailure||t instanceof o("ReStoreEARSetupFailure").ReStoreEARSetupFailure?r("LSPlatformErrorChannel").emit(t):t instanceof o("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed&&n("cr:10099")!=null?(n("cr:10099")==null||n("cr:10099").releaseIfExist(),r("LSPlatformErrorChannel").emit(t)):t instanceof r("ReStoreIndexedDbFailToOpenEvent")&&n("cr:10099")!=null&&(n("cr:10099")==null||n("cr:10099").releaseIfExist())}}var _=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=o("MessengerLogHistory").getInstance("db_init");r("promiseDone")(o("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(t){e.debug("Has multiple tabs: "+t),o("MultipleTabsLogger").addAnnotationToQPLEvent(r("qpl")._(25305590,"1127"))})),e.debug("====Creating DB===="),o("LSPlatformLsInitLog").addPoint("vaulting_setup_start"),n("cr:4489")!=null&&n("cr:665")!=null&&(c||(c=r("ExecutionEnvironment"))).isInBrowser&&(e.debug("Vaulting setup started"),n("cr:665").setupMainWaLogger(),yield o("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield n("cr:4489").setupVaultMaterials()})),e.debug("Vaulting setup finished")),o("LSPlatformLsInitLog").addPoint("vaulting_setup_end"),e.debug("Connecting to DB");var t=yield n("cr:10200").createDB(p);return e.debug("Connection established"),yield t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=m==null?[(u||(u=n("Promise"))).resolve(),(u||(u=n("Promise"))).resolve()]:[m.call(t),o("MAWDropCutoverThreadsTable").call(t)],a=r[0],i=r[1];yield(u||(u=n("Promise"))).all([a,i]),o("LSPlatformLsInitLog").addPoint("success_maw_data_deletion"),e.debug("Seeding DB"),yield o("LSDefaultSyncGroups").seedDb(t,void 0),e.debug("DB seeded")});return function(e){return t.apply(this,arguments)}})(),"readwrite","ui",void 0,i.id+":113"),e.debug("====DB created===="),t});return function(){return e.apply(this,arguments)}})(),f;function g(){return f==null&&(f=(c||(c=r("ExecutionEnvironment"))).isInBrowser?_():new(u||(u=n("Promise")))(function(){})),f}l.get=g}),98);
__d("WormGlobalConfig",[],(function(t,n,r,o,a,i){"use strict";var e={};function l(){return e}function s(t){e=t}i.getWormGlobalConfig=l,i.setWormGlobalConfig=s}),66);
__d("MWConditionallySetupEBStateDB",["EBDB","EBReadyNotifier","ExecutionEnvironment","MAWCurrentUser","MAWIndexedDbMetadata","MessengerWebInitData","ODS","WAHex","WAOdsEnums","WormGlobalConfig","asyncToGeneratorRuntime","cr:23151","cr:8233","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){if(n("cr:23151")!=null&&(s||(s=r("ExecutionEnvironment"))).isInBrowser){o("WormGlobalConfig").setWormGlobalConfig({}),n("cr:8233")==null||n("cr:8233").setupMainWaLogger(),o("EBDB").makeEBDB(o("MAWIndexedDbMetadata").ebdbName(o("MAWCurrentUser").getID()),r("qpl")._(1056840657,"2716"),o("WAHex").parseHex(r("MessengerWebInitData").accountKeyV2),o("EBDB").EBDBEnvironment.UI,{log:function(n){return(e||(e=o("ODS"))).bumpEntityKey(3185,o("WAOdsEnums").Entity.WORM,n)}});var a=yield n("cr:23151").makeReStorePersistence(t);return o("EBReadyNotifier").markEBReady(),a}}),c.apply(this,arguments)}l.conditionallyMakeEBStateDB=u}),98);
__d("MWLSSchemaEphemeral",["EBDB","EBDBEbsmApi","FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MessengerLogHistory").getInstance("db_init");function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){o("LSPlatformLsInitLog").addPoint("init_start");var n,a={clearEbStores:o("EBDB").clearEbStores,flushEBSMtoEBDB:o("EBDBEbsmApi").flushEBSMtoEBDB,rehydrateEBSMFromEBDB:o("EBDBEbsmApi").rehydrateEBSMFromEBDB};try{var i=yield o("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB(a);i!=null&&(e.debug("Creating EB State DB"),n=o("LSReStoreWrapper").createLSReStore(i,o("LSMetadata").schema,[r("MAWLSVaultingHooks")],void 0,o("LSPlatformLsInitLog").lsInitLogger),a.updateEBSM=o("EBDBEbsmApi").updateEBSM(n),e.debug("EB State DB inited"))}catch(e){r("FBLogger")("messenger_web_clients").catching(r("getErrorSafe")(e)).mustfix("EBSM failed")}return n==null&&(e.debug("Creating EDB"),n=r("LSJSInMemoryStorage")(o("LSMetadata").schema),e.debug("EDB inited")),o("LSPlatformLsInitLog").addPoint("init_end"),n}),u.apply(this,arguments)}l.createDB=s}),98);/*FB_PKG_DELIM*/
__d("BaseTabIGDSVariants",[],(function(t,n,r,o,a,i,l){"use strict";var e={tab:{flexGrow:"x1c4vz4f",height:"xn3w4p2",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},tabContainer:{maxWidth:"xg7l0n3",$$css:!0},tabContent:{columnGap:"xfex06f",$$css:!0},underline:{borderBottomColor:"x16stqrj",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xlxy82",$$css:!0},underlineActive:{borderBottomColor:"x1iwc013",$$css:!0}},s={tab:{paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",paddingLeft:null,paddingRight:null,$$css:!0},tabContainer:{flexBasis:"xdl72j9",flexGrow:"x1c4vz4f",$$css:!0}},u={hasUnderline:!0,iconPosition:"start",isLabelHidden:!1,xstyleConfig:{tab:e.tab,tabContainer:e.tabContainer,tabContent:e.tabContent,underline:e.underline,underlineActive:e.underlineActive}},c=babelHelpers.extends({},u,{hasUnderline:!1,xstyleConfig:babelHelpers.extends({},u.xstyleConfig,{tab:[e.tab,s.tab],tabContainer:s.tabContainer})});l.BaseTabIGDSDefaultVariant=u,l.BaseTabIGDSHeroVariant=c}),98);
__d("BaseTabs.react",["BaseButton.react","BaseLink.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","children","icon","isActive","onClick","variant"],s=["ref","children","icon","isActive","variant"],u=["id","isLink","label","onClick","ref"],c,d=c||(c=o("react")),m=c.useState,p={tab:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",textDecoration:"x1hl2dhg x1lku1pv",$$css:!0},tabContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",justifyContent:"xl56j7k",$$css:!0},tabContent:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},tabList:{display:"x78zum5",$$css:!0}};function _(t){var n=t.ref,a=t.children,i=t.icon,l=t.isActive,s=t.onClick,u=t.variant,c=babelHelpers.objectWithoutPropertiesLoose(t,e),m=u.hasUnderline,_=m===void 0?!0:m,f=u.iconPosition,g=f===void 0?"start":f,h=u.isLabelHidden,y=h===void 0?!1:h,C=u.xstyleConfig,b=[p.tab,C==null?void 0:C.tab,_&&[C==null?void 0:C.underline,l&&(C==null?void 0:C.underlineActive)]];return d.jsx(o("react-strict-dom").html.div,{style:[p.tabContainer,C==null?void 0:C.tabContainer],children:d.jsx(r("BaseButton.react"),babelHelpers.extends({onClick:s,ref:n,role:"tab",xstyle:b},c,{children:d.jsxs(o("react-strict-dom").html.div,{style:[p.tabContent,C==null?void 0:C.tabContent],children:[g==="start"&&i,!y&&a,g==="end"&&i]})}))})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.ref,n=e.children,a=e.icon,i=e.isActive,l=e.variant,u=babelHelpers.objectWithoutPropertiesLoose(e,s),c=l.hasUnderline,m=c===void 0?!0:c,_=l.iconPosition,f=_===void 0?"start":_,g=l.isLabelHidden,h=g===void 0?!1:g,y=l.xstyleConfig,C=[p.tab,y==null?void 0:y.tab,m&&[y==null?void 0:y.underline,i&&(y==null?void 0:y.underlineActive)]];return d.jsx(o("react-strict-dom").html.div,{style:[p.tabContainer,y==null?void 0:y.tabContainer],children:d.jsx(r("BaseLink.react"),babelHelpers.extends({ref:t,role:"tab",xstyle:C},u,{children:d.jsxs(o("react-strict-dom").html.div,{style:[p.tabContent,y==null?void 0:y.tabContent],children:[f==="start"&&a,!h&&n,f==="end"&&a]})}))})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.children,n=e.isActive,r=e.style;return n?d.jsx(o("react-strict-dom").html.div,{role:"tabpanel",style:r,children:t}):null}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t,n=e.initialActiveTabIndex,r=n===void 0?0:n,a=e.onChange,i=e.tabs,l=e.variant,s=m(r>=0?r:0),c=s[0],h=s[1],y=function(t){a&&a(t),h(t)};return d.jsxs(o("react-strict-dom").html.div,{children:[d.jsx(o("react-strict-dom").html.div,{role:"tablist",style:[p.tabList,l==null||(t=l.xstyleConfig)==null?void 0:t.tablist],children:i.map(function(e,t){if(e.isLink){var n=e.id,r=e.isLink,o=e.label,a=e.onClick,i=e.ref,l=babelHelpers.objectWithoutPropertiesLoose(e,u);return d.createElement(f,babelHelpers.extends({},l,{isActive:c===t,key:n!=null?n:t,onClick:function(n){y(t),a&&a(n)},ref:i}),o)}else{var s=e.ariaLabel,m=e.icon,p=e.id,g=e.label,h=e.onClick,C=e.ref,b=e.variant;return d.jsx(_,{"aria-label":s,icon:m,isActive:c===t,onClick:function(n){y(t),h&&h(n)},ref:C,variant:b,children:g},p!=null?p:t)}})}),i.map(function(e,t){var n,r=e.content,o=e.id;return d.jsx(g,{isActive:c===t,style:l==null||(n=l.xstyleConfig)==null?void 0:n.tabpanel,children:r},o!=null?o:t)})]})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("BaseTabsIGDSVariants",[],(function(t,n,r,o,a,i,l){"use strict";var e={tablist:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",columnGap:"xtqikln",$$css:!0}},s={tablist:{columnGap:"xtqikln",$$css:!0}},u={tablist:{borderBottomColor:"x124el2t",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1co6499",columnGap:"x17zd0t2",justifyContent:"xl56j7k",$$css:!0}},c={xstyleConfig:{tablist:u.tablist}},d={xstyleConfig:{tablist:e.tablist}},m={xstyleConfig:{tablist:s.tablist}};l.BaseTabsIGDSDefaultVariant=c,l.BaseTabsIGDSHeroDefaultVariant=d,l.BaseTabsIGDSHeroWithoutBottomDividerVariant=m}),98);
__d("IGDSPhotoGridPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n,a,i,l,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("rect",{fill:"none",height:"18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"18",x:"3",y:"3"}),a=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"9.015",x2:"9.015",y1:"3",y2:"21"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"14.985",x2:"14.985",y1:"3",y2:"21"}),l=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"21",x2:"3",y1:"9.015",y2:"9.015"}),u=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"21",x2:"3",y1:"14.985",y2:"14.985"}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u):(n=t[0],a=t[1],i=t[2],l=t[3],u=t[4]);var c;return t[5]!==e?(c=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i,l,u]})),t[5]=e,t[6]=c):c=t[6],c}var c=s.memo(u);l.default=c}),98);
__d("IGDSPhotoListPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n,a,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("rect",{fill:"none",height:"10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"12",x:"6",y:"7"}),a=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",x1:"6.002",x2:"18",y1:"3.004",y2:"3.004"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",x1:"6.002",x2:"18",y1:"21",y2:"21"}),t[0]=n,t[1]=a,t[2]=i):(n=t[0],a=t[1],i=t[2]);var l;return t[3]!==e?(l=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i]})),t[3]=e,t[4]=l):l=t[4],l}var c=s.memo(u);l.default=c}),98);
__d("IGDSSavePanoOutlineIcon.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M20 21 12 13.44 4 21 4 3 20 3 20 21z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("shouldUseIGDSPrismTabs",[],(function(t,n,r,o,a,i){"use strict";function e(){return!0}i.default=e}),66);
__d("IGDSSegmentedTabs.react",["BaseTabIGDSVariants","BaseTabs.react","BaseTabsIGDSVariants","IGDSIcon.react","IGDSText.react","XPlatReactEnvironment","react","shouldUseIGDSPrismTabs"],(function(t,n,r,o,a,i,l){"use strict";var e=["hasUnderline","iconPosition","isLabelHidden"],s=["hasUnderline","iconPosition","isLabelHidden"],u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useMemo,_=d.useState,f={inactive:{opacity:"xti2d7y",$$css:!0}};function g(t){var n=t.initialActiveTabIndex,a=n===void 0?0:n,i=t.isCustomBackgroundColorDark,l=t.isHeroTabs,u=l===void 0?!1:l,d=t.isHeroTabsWithoutBottomDivider,g=d===void 0?!1:d,h=t.labelMaxLines,y=h===void 0?0:h,C=t.onChange,b=t.tabs,v=g?o("BaseTabsIGDSVariants").BaseTabsIGDSHeroWithoutBottomDividerVariant:u?o("BaseTabsIGDSVariants").BaseTabsIGDSHeroDefaultVariant:o("BaseTabsIGDSVariants").BaseTabsIGDSDefaultVariant,S=u||g,R=S?o("BaseTabIGDSVariants").BaseTabIGDSHeroVariant:o("BaseTabIGDSVariants").BaseTabIGDSDefaultVariant,L=_(a),E=L[0],k=L[1],I=m(function(e){C&&C(b[e].id),k(e)},[C,b]),T=f,D=p(function(){return b.map(function(t,n){var a=c.jsx(r("IGDSText.react"),{color:E===n?"primaryText":o("XPlatReactEnvironment").isWeb()&&!r("shouldUseIGDSPrismTabs")()?"tertiaryText":"secondaryText",maxLines:y,size:S?"label":"body",weight:o("XPlatReactEnvironment").isWeb()?"bold":"normal",children:t.label}),l=t.icon?c.jsx(r("IGDSIcon.react"),{alt:t.label,color:E===n||i===!0?"primary":"secondary",icon:t.icon,size:24,xstyle:E!==n&&i===!0&&T.inactive}):void 0;if(t.isLink){var u=t.hasUnderline,d=t.iconPosition,m=t.isLabelHidden,p=babelHelpers.objectWithoutPropertiesLoose(t,e);return babelHelpers.extends({},p,{icon:l,label:a,variant:babelHelpers.extends({},R,{hasUnderline:u!=null?u:R.hasUnderline,iconPosition:d!=null?d:R.iconPosition,isLabelHidden:m!=null?m:R.isLabelHidden})})}var _=t.hasUnderline,f=t.iconPosition,g=t.isLabelHidden,h=babelHelpers.objectWithoutPropertiesLoose(t,s);return babelHelpers.extends({},h,{icon:l,label:a,variant:babelHelpers.extends({},R,{hasUnderline:_!=null?_:R.hasUnderline,iconPosition:f!=null?f:R.iconPosition,isLabelHidden:g!=null?g:R.isLabelHidden})})})},[E,T.inactive,i,S,y,R,b]);return c.jsx(r("BaseTabs.react"),{initialActiveTabIndex:a,onChange:I,tabs:D,variant:v})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("PolarisProfileHeaderOptionsButton_user.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfileHeaderOptionsButton_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisProfileOtherOptionsDialog_user"},{args:null,kind:"FragmentSpread",name:"PolarisProfileOwnOptionsDialog_user"}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("PolarisProfileOwnOptionsDialogQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9535913306478467"}),null);
__d("PolarisProfileOwnOptionsDialogQuery$Parameters",["PolarisProfileOwnOptionsDialogQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisProfileOwnOptionsDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisProfileOwnOptionsDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisProfileOwnOptionsDialogViewerQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9828967233853789"}),null);
__d("PolarisProfileOwnOptionsDialogViewerQuery$Parameters",["PolarisProfileOwnOptionsDialogViewerQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisProfileOwnOptionsDialogViewerQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_viewer"]},name:"PolarisProfileOwnOptionsDialogViewerQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisProfileOwnOptionsDialog.entrypoint",["JSResourceForInteraction","PolarisProfileOwnOptionsDialogQuery$Parameters","PolarisProfileOwnOptionsDialogViewerQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:r("PolarisProfileOwnOptionsDialogQuery$Parameters"),variables:{}},viewerQueryReference:{parameters:r("PolarisProfileOwnOptionsDialogViewerQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("PolarisProfileOwnOptionsDialog.react").__setRef("PolarisProfileOwnOptionsDialog.entrypoint")};l.default=e}),98);
__d("PolarisProfileHeaderOptionsButton.react",["fbt","CometRelay","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSMoreVerticalPanoOutline24Icon.react","IGDSSettingsPanoOutlineIcon.react","JSResourceForInteraction","PolarisConfig","PolarisProfileHeaderOptionsButton_user.graphql","PolarisProfileOwnOptionsDialog.entrypoint","PolarisUA","gkx","react","react-compiler-runtime","shouldShowProfileRedesign","useIGDSEntryPointDialog","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"Options"),m=r("JSResourceForInteraction")("PolarisProfileOtherOptionsDialog.react").__setRef("PolarisProfileHeaderOptionsButton.react");function p(t){var a=o("react-compiler-runtime").c(13),i=t.user,l=t.useVerticalIcon,s=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisProfileHeaderOptionsButton_user.graphql"),i),u=o("PolarisConfig").getViewerId(),p=u===s.pk,_=o("PolarisUA").isMobile()?u!=null&&!p:u!=null,f=o("PolarisUA").isDesktop()&&s.is_private!==!0&&r("gkx")("6450"),g=o("PolarisConfig").isLoggedOutFRXEligible()||f,h=r("useIGDSLazyDialog")(m),y=h[0],C;a[0]===Symbol.for("react.memo_cache_sentinel")?(C={routeParams:{},routeProps:{}},a[0]=C):C=a[0];var b=r("useIGDSEntryPointDialog")(r("PolarisProfileOwnOptionsDialog.entrypoint"),C),v=b[0];if(!_&&!g)return null;var S;a[1]!==p||a[2]!==y||a[3]!==v||a[4]!==s?(S=function(){p?v({user:s}):y({user:s})},a[1]=p,a[2]=y,a[3]=v,a[4]=s,a[5]=S):S=a[5];var R=S,L;a[6]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x1q0g3np x2lah0s"},a[6]=L):L=a[6];var E;a[7]!==p||a[8]!==l?(E=p?c.jsx(r("IGDSSettingsPanoOutlineIcon.react"),{alt:d}):r("shouldShowProfileRedesign")()||l===!0?c.jsx(r("IGDSMoreVerticalPanoOutline24Icon.react"),{alt:d}):c.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:d,size:32}),a[7]=p,a[8]=l,a[9]=E):E=a[9];var k;return a[10]!==R||a[11]!==E?(k=c.jsx("div",babelHelpers.extends({},L,{children:c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,onClick:R,children:E})})),a[10]=R,a[11]=E,a[12]=k):k=a[12],k}l.default=p}),226);
__d("PolarisTabbedContentTabLabel.react",["IGDSBox.react","PolarisGenericStrings","react","react-compiler-runtime","usePolarisMinimalProfileIsHeaderMinimized"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(13),n=e.icon,a=e.isSelected,i=e.isSmallScreen,l=e.labelText,u=n,c=o("usePolarisMinimalProfileIsHeaderMinimized").usePolarisMinimalProfileIsHeaderMinimized();if(i){var d=a?c?"ig-primary-text":"ig-primary-button":"ig-secondary-text",m;return t[0]!==u||t[1]!==d||t[2]!==l?(m=s.jsx(u,{alt:l,color:d}),t[0]=u,t[1]=d,t[2]=l,t[3]=m):m=t[3],m}var p=a?"ig-primary-text":"ig-secondary-text",_;t[4]!==u||t[5]!==p?(_=s.jsx(u,{alt:o("PolarisGenericStrings").EMPTY_STRING,color:p,size:12}),t[4]=u,t[5]=p,t[6]=_):_=t[6];var f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x972fbf x10w94by x1qhh985 x14e42zd xk390pu xdj266r x14z9mp xat24cr xdzw4kq xexx8yu xyri2b x18d9i69 x1c1uobl x11njtxf"},t[7]=f):f=t[7];var g;t[8]!==l?(g=s.jsx("span",babelHelpers.extends({},f,{children:l})),t[8]=l,t[9]=g):g=t[9];var h;return t[10]!==_||t[11]!==g?(h=s.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[_,g]}),t[10]=_,t[11]=g,t[12]=h):h=t[12],h}l.default=u}),98);
__d("PolarisTabbedContentTabNavigation.react",["cx","PolarisFastLink.react","gkx","react","react-compiler-runtime","usePolarisMinimalProfileIsHeaderMinimized"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={bottomBorder:{borderBottomColor:"xzvzlhg",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xlxy82",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(15),n=e.href,a=e.isSelected,i=e.isSmallScreen,l=e.onClick,s=e.onMouseEnter,d=e.renderLabel,m=e.showSelectedTabIndicator,p=e.tabBarPosition,_=e.tabBarWidth,f=e.tabId,g=m===void 0?!1:m,h=_===void 0?"wide":_,y=o("usePolarisMinimalProfileIsHeaderMinimized").usePolarisMinimalProfileIsHeaderMinimized(),C;t[0]!==l||t[1]!==f?(C=function(t){l&&l(f,t)},t[0]=l,t[1]=f,t[2]=C):C=t[2];var b=C,v=r("gkx")("19253"),S="_aa-z"+(v?" _aubp":"")+" _ap3g"+(a?" _aa--":"")+(g===!0&&a&&!y&&p==="top"?" _ac_u":"")+(g===!0&&a&&!y&&p==="bottom"?" _ac_v":"")+(h==="narrow"?" _ae8r":""),R=g===!0&&a&&y&&c.bottomBorder,L;t[3]!==a||t[4]!==i||t[5]!==d?(L=d(a,i),t[3]=a,t[4]=i,t[5]=d,t[6]=L):L=t[6];var E;return t[7]!==b||t[8]!==n||t[9]!==a||t[10]!==s||t[11]!==S||t[12]!==R||t[13]!==L?(E=u.jsx(r("PolarisFastLink.react"),{"aria-selected":a,className:S,href:n,onClick:b,onMouseEnter:s,role:"tab",xstyle:R,children:L}),t[7]=b,t[8]=n,t[9]=a,t[10]=s,t[11]=S,t[12]=R,t[13]=L,t[14]=E):E=t[14],E}l.default=d}),98);
__d("XPolarisSupervisionControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/accounts/supervision/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("usePolarisNonPersonalizedTabsImpressionLogger",["polarisLogAction","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n={onImpressionStart:function(){r("polarisLogAction")("dsaTabImpression",{source:e})}},t[0]=e,t[1]=n):n=t[1],r("useSinglePartialViewImpression")(n)}l.default=e}),98);
__d("usePolarisProfileIsEligibleForATA_user.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisProfileIsEligibleForATA_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_account_transparency_details",storageKey:null}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisProfileIsEligibleForATA",["CometRelay","PolarisIsLoggedIn","react-compiler-runtime","usePolarisProfileIsEligibleForATA_user.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("react-compiler-runtime").c(2),a=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisProfileIsEligibleForATA_user.graphql"),t),i=a.show_account_transparency_details,l;return r[0]!==i?(l=o("PolarisIsLoggedIn").isLoggedIn()&&i===!0,r[0]=i,r[1]=l):l=r[1],l}l.default=s}),98);
__d("usePolarisUnrestrictMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9508788309237511"}),null);
__d("usePolarisUnrestrictMutation.graphql",["usePolarisUnrestrictMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"target_user_id"}],t=[{kind:"Variable",name:"target_user_id",variableName:"target_user_id"}],r={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},o={alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"usePolarisUnrestrictMutation",selections:[{alias:null,args:t,concreteType:"XDTUserDict",kind:"LinkedField",name:"xdt_api__v1__restrict_action__unrestrict",plural:!1,selections:[r,o],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"usePolarisUnrestrictMutation",selections:[{alias:null,args:t,concreteType:"XDTUserDict",kind:"LinkedField",name:"xdt_api__v1__restrict_action__unrestrict",plural:!1,selections:[r,o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("usePolarisUnrestrictMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__restrict_action__unrestrict"]},name:"usePolarisUnrestrictMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("usePolarisUnrestrictMutation",["fbt","CometRelay","react","react-compiler-runtime","useIGDSToaster","usePolarisUnrestrictMutation.graphql"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(u||(u=o("react"))).useCallback;function d(){var t=o("react-compiler-runtime").c(7),a=r("useIGDSToaster")(),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=e!==void 0?e:e=n("usePolarisUnrestrictMutation.graphql"),t[0]=i):i=t[0];var l=o("CometRelay").useMutation(i),u=l[0],c=l[1],d;t[1]!==u||t[2]!==a?(d=function(t){var e=t.target_user_id;u({onCompleted:function(){a.add({message:s._(/*BTDS*/"Account Unrestricted"),target:"bottom"})},variables:{target_user_id:e}})},t[1]=u,t[2]=a,t[3]=d):d=t[3];var m=d,p;return t[4]!==c||t[5]!==m?(p=[m,c],t[4]=c,t[5]=m,t[6]=p):p=t[6],p}l.default=d}),226);/*FB_PKG_DELIM*/
__d("addToMap",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){if(e.get(t)===n)return e;var r=new Map(e);return r.set(t,n),r}i.default=e}),66);
__d("removeFromMap",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e.has(t)){var n=new Map(e);return n.delete(t),n}return e}i.default=e}),66);
__d("GlobalVideoPortsManager",["addToMap","emptyFunction","gkx","removeFromMap"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.get(t);return n!=null&&(n.portablePlaceContainer=null),r("removeFromMap")(e,t)}var s=r("emptyFunction");function u(e){return e.unlinkedAtTimestampMs!==null}var c=1e4,d=(function(){function t(e){var t=this;this.$1=function(n){var r=function(r){return n(t.$2(r))};e(r)}}var n=t.prototype;return n.addOrUpdatePlace=function(n){var t=this,o=n.coreVideoPlayerMetaData,a=n.fullscreenController,i=n.implementations,l=n.injectCoreVideoStatesRef,s=n.isFullscreen,c=n.portablePlaceContainer,d=n.portablePlaceID,m=n.portablePlaceMetaData,p=n.portableVideoID,_=n.renderComponents,f=n.renderPlaceholder,g=n.trackingDataEncrypted,h=n.trackingNodes,y=n.viewportMarginsForViewability;this.$1(function(n){var C,b=t.getPortableVideoState(n,p),v=(C=n.places.get(d))!=null?C:null,S=v!=null&&!u(v)?v.sequenceNumber:n.placesSequenceNumberNext,R=S===n.placesSequenceNumberNext?n.placesSequenceNumberNext+1:n.placesSequenceNumberNext,L=m||{},E=n.places;if(p!=null){var k=t.getPlacesBorrowingThisVideo(E,p);k.forEach(function(t){u(t)&&t.portablePlaceID!==(v==null?void 0:v.portablePlaceID)&&(E=e(E,t.portablePlaceID))})}E=r("addToMap")(E,d,babelHelpers.extends({},v,{coreVideoPlayerMetaData:o,currentVideoID:p,fullscreenController:a,implementations:i,injectCoreVideoStatesRef:l,isFullscreen:s,portablePlaceContainer:c,portablePlaceID:d,portablePlaceMetaData:L,renderComponents:_,renderPlaceholder:f!=null?f:null,sequenceNumber:S,trackingDataEncrypted:g,trackingNodes:h,unlinkedAtTimestampMs:null,viewportMarginsForViewability:y}));var I=v!==null&&p===null?v.currentVideoID:null,T=n.videos;if(I!==null){var D=t.getPlacesBorrowingThisVideo(E,I),x=D.length===0;x&&(T=r("removeFromMap")(n.videos,I))}if(p!==null){var $=t.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:b,places:n.places,setPreferredPlaceForVideo:!1,updatedPlaces:E,videoID:p}),P=$.nextPreviousPlaceMetaData;T=r("addToMap")(T,p,b?babelHelpers.extends({},b,{portableVideoID:p,previousPlaceMetaData:P}):{portableVideoID:p,preferredPlaceID:null,previousPlaceMetaData:P})}return E===n.places&&R===n.placesSequenceNumberNext&&T===n.videos?n:babelHelpers.extends({},n,{places:E,placesSequenceNumberNext:R,videos:T})})},n.removePlace=function(n){var t=this,o=n.portablePlaceID,a=Date.now();this.$1(function(n){var i,l=(i=n.places.get(o))!=null?i:null,s=l!==null?l.currentVideoID:null;if(l===null)return n;var u=n.places,c=s!==null?t.skipUnlinkedPlaces(t.getPlacesBorrowingThisVideo(u,s)).filter(function(e){return e.portablePlaceID!==o}):[];s!==null&&c.length===0?u=r("addToMap")(u,o,babelHelpers.extends({},l,{unlinkedAtTimestampMs:a})):u=e(u,o);var d=n.videos;if(s!==null){var m=t.getPlacesBorrowingThisVideo(u,s),p=m.length===0;if(p)d=r("removeFromMap")(d,s);else{var _=t.getPortableVideoState(n,s),f=t.updatePreviousPlaceMetaDataInfoForVideo({existingVideoState:_,places:n.places,setPreferredPlaceForVideo:!1,updatedPlaces:u,videoID:s}),g=f.nextPreviousPlaceMetaData,h=f.shouldUpdatePreviousPlaceMetaDataForVideo;_!=null&&h&&(d=r("addToMap")(d,s,babelHelpers.extends({},_,{portableVideoID:s,previousPlaceMetaData:g})))}}return u===n.places&&d===n.videos?n:babelHelpers.extends({},n,{places:u,videos:d})})},n.setPreferredPlaceForVideo=function(t){var e=this,n=t.portablePlaceID,o=t.portableVideoID;this.$1(function(t){var a=e.getPortableVideoState(t,o),i=n!=null?t.places.get(n):null,l=e.updatePreviousPlaceMetaDataInfoForVideo({existingPlaceStateForSetPreferredPlaceForVideo:i,existingVideoState:a,places:t.places,preferredPlaceID:n,setPreferredPlaceForVideo:!0,updatedPlaces:t.places,videoID:o}),s=l.nextPreviousPlaceMetaData,u=a!=null?r("addToMap")(t.videos,o,babelHelpers.extends({},a,{preferredPlaceID:i!=null&&n!=null?n:null,previousPlaceMetaData:s})):t.videos;return u===t.videos?t:babelHelpers.extends({},t,{videos:u})})},n.getPlacesBorrowingThisVideo=function(t,n){var e=[];return t.forEach(function(t){t.currentVideoID===n&&e.push(t)}),e},n.skipUnlinkedPlaces=function(t){return t.filter(function(e){return!u(e)})},n.selectCurrentPlaceFromThesePlaces=function(t,n){var e,r,o=t.slice().sort(function(e,t){return e.sequenceNumber-t.sequenceNumber}),a=(e=o.find(function(e){return e.portablePlaceID===n}))!=null?e:null,i=o.length>0?o[o.length-1]:null;return(r=a!=null?a:i)!=null?r:null},n.getCurrentPlaceStateForVideo=function(t,n){var e=this.getPortableVideoState(t,n);if(e!=null&&n!=null){var r=this.selectCurrentPlaceFromThesePlaces(this.skipUnlinkedPlaces(this.getPlacesBorrowingThisVideo(t.places,n)),e.preferredPlaceID);return r!=null?r:null}else return null},n.getPortableVideoState=function(t,n){if(n!=null){var e=t.videos.get(n);return e!=null?e:null}return null},n.updatePreviousPlaceMetaDataInfoForVideo=function(t){var e=this,n,r,o=t.existingPlaceStateForSetPreferredPlaceForVideo,a=t.existingVideoState,i=t.places,l=t.preferredPlaceID,s=t.setPreferredPlaceForVideo,u=t.updatedPlaces,c=t.videoID,d=function(n,r){return e.selectCurrentPlaceFromThesePlaces(e.skipUnlinkedPlaces(e.getPlacesBorrowingThisVideo(n,c)),r!=null?r:null)},m=d(i,a==null?void 0:a.preferredPlaceID),p=null;s?p=o!=null?d(i,l):null:p=d(u,a==null?void 0:a.preferredPlaceID);var _=m!=null&&(m==null?void 0:m.portablePlaceID)!==((n=p)==null?void 0:n.portablePlaceID);return{nextPreviousPlaceMetaData:_&&m!=null?m.portablePlaceMetaData:(r=a==null?void 0:a.previousPlaceMetaData)!=null?r:null,shouldUpdatePreviousPlaceMetaDataForVideo:_}},n.collectGarbage=function(){this.$1(function(e){return e})},n.$2=function(n){var t=Date.now(),o=new Set,a=n.places;n.places.forEach(function(n){n.unlinkedAtTimestampMs!==null&&t-n.unlinkedAtTimestampMs>=c?a=e(a,n.portablePlaceID):n.currentVideoID!==null&&o.add(n.currentVideoID)});var i=n.videos;return n.videos.forEach(function(e){o.has(e.portableVideoID)||(i=r("removeFromMap")(i,e.portableVideoID))}),a===n.places&&i===n.videos?n:babelHelpers.extends({},n,{places:a,videos:i})},t})();l.isUnlinkedGlobalVideoPortsPlace=u,l.UNLINKED_PLACE_TIMEOUT_MS=c,l.GlobalVideoPortsManager=d}),98);
__d("GlobalVideoPortsPortalerErrorBoundary.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={errorRaw:null},t.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e),t.getDerivedStateFromError=function(t){return{errorRaw:t}};var n=t.prototype;return n.componentDidCatch=function(t,n){var e=this.props.onError;e!=null&&e(t)},n.render=function(){var e=this.props,t=e.children,n=e.fallback,r=this.state.errorRaw;return r!=null?typeof n=="function"?n(t):n:t},t})(s.PureComponent);l.default=u}),98);
__d("everySet",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){for(var r=e.entries(),o=r.next();!o.done;){var a=o.value;if(!t.call(n,a[1],a[0],e))return!1;o=r.next()}return!0}i.default=e}),66);
__d("equalsSet",["everySet"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e.size!==t.size?!1:r("everySet")(e,function(e){return t.has(e)})}l.default=e}),98);
__d("GlobalVideoPortsPortaler.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsPortalerErrorBoundary.react","GlobalVideoPortsRenderers.react","ReactDOM","equalsSet","react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p=c.useState;function _(e,t,n,o,a){var i=m(null);d(function(){var l,s=i.current,u=new Set((l=e.map(function(e){return e.portablePlaceID}))!=null?l:[]);if(s==null||!r("equalsSet")(s,u)){i.current=u;var c=t.current,d=n.current;c!=null&&o(c),d!=null&&a(d)}},void 0)}function f(t){var n,a,i=t.globalVideoPortsManager,l=t.globalVideoPortsState,s=t.thisVideoID,c=p(function(){return o("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})}),d=c[0],f=m(null),g=(e||(e=r("useUnsafeRef_DEPRECATED")))(null),h=(n=l.videos.get(s))!=null?n:null,y=i.getPlacesBorrowingThisVideo(l.places,s),C=y.length<=0,b=C?null:i.selectCurrentPlaceFromThesePlaces(y,h?h.preferredPlaceID:null),v=C?null:i.selectCurrentPlaceFromThesePlaces(i.skipUnlinkedPlaces(y),h?h.preferredPlaceID:null),S=function(t){g.current=t,y.forEach(function(e){var n=e.injectCoreVideoStatesRef.current;n&&n(f.current,t)})},R=function(){return null},L=function(t){f.current=t,y.forEach(function(e){var t=e.injectCoreVideoStatesRef.current;t&&t(f.current,g.current)})};return _(y,g,f,S,L),C?null:u.jsxs(u.Fragment,{children:[o("ReactDOM").createPortal(b?u.jsx(r("GlobalVideoPortsPortalerErrorBoundary.react"),{description:"GlobalVideoPortsPortaler",fallback:R,onError:L,children:u.jsx(o("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlayerRenderer,{coreVideoPlayerMetaData:b.coreVideoPlayerMetaData,currentPlaceID:b.portablePlaceID,currentVideoID:s,fullscreenController:b.fullscreenController,implementations:b.implementations,isFullscreen:b.isFullscreen,onCoreVideoStatesChanged:S,previousPlaceMetaData:(a=h==null?void 0:h.previousPlaceMetaData)!=null?a:null,trackingDataEncrypted:b.trackingDataEncrypted,trackingNodes:b.trackingNodes,viewportMarginsForViewability:b.viewportMarginsForViewability})}):null,d),y.map(function(e){var t,n,r;return o("ReactDOM").createPortal(e.portablePlaceID===(v==null?void 0:v.portablePlaceID)?u.jsx(o("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:d}):u.jsx(o("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:(t=v==null?void 0:v.portablePlaceID)!=null?t:null,currentVideoID:s,previousPlaceMetaData:(n=h==null?void 0:h.previousPlaceMetaData)!=null?n:null,renderPlaceholder:e.renderPlaceholder,thisPlaceID:e.portablePlaceID,videoPixelsAspectRatio:(r=e.coreVideoPlayerMetaData.videoPixelsAspectRatio)!=null?r:null}),e.portablePlaceContainer)})]})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("GlobalVideoPortsImpl.react",["CometErrorBoundary.react","GlobalVideoPortsContexts","GlobalVideoPortsManager","GlobalVideoPortsPortaler.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=e.setGlobalVideoPortsManager;u(function(){var e=function(t){return new(o("GlobalVideoPortsManager")).GlobalVideoPortsManager(t)};t(e)},[t]);var n=[],a=o("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),i=o("GlobalVideoPortsContexts").useGlobalVideoPortsState();return a&&i&&i.videos.forEach(function(e,t){n.push(s.jsx(r("CometErrorBoundary.react"),{children:s.jsx(r("GlobalVideoPortsPortaler.react"),{globalVideoPortsManager:a,globalVideoPortsState:i,thisVideoID:t})},t))}),s.jsx(s.Fragment,{children:n})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);